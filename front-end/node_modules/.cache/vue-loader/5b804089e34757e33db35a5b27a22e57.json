{"remainingRequest":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/src/components/Job-Details-Page/JobDetails.vue?vue&type=style&index=0&id=d61ff6ec&scoped=true&lang=scss&","dependencies":[{"path":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/src/components/Job-Details-Page/JobDetails.vue","mtime":1563795525397},{"path":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erinc/Documents/WebWorkspace/yigit-erinc/obss-jobs/front-end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '../../styles/abstracts/colors';\n@import '../../styles/abstracts/typography';\n\n.header {\n    background-image: url(http://getwallpapers.com/wallpaper/full/c/1/1/1237994-san-francisco-4k-wallpaper-1920x1080-pictures.jpg);\n    background-size: cover;\n    background-position: center;\n    height: 45vh;\n    width: 100vw;\n    position: relative;\n    margin-bottom: 0.75rem;\n    @include set_font_montserrat();\n    object-fit: cover;\n}\n\n.job-details {\n    p {\n        color: $slightly-blue-black;\n    }\n\n    .location {\n        color: gray;\n        font-size: 1.5rem;\n        letter-spacing: .001rem;\n        margin-bottom: 2rem;\n    }\n\n    .short-info {\n        p {\n            margin-bottom: 0;\n            letter-spacing: .001rem;\n            font-size: 16px;\n            font-weight: 400;\n            text-align: left;\n        }\n\n        margin-bottom: 1rem;\n    }\n\n    .apply__button {\n        margin-top: 2rem;\n        padding-right: 90px !important;\n        padding-left: 90px !important;\n\n        &:hover, &:link, &:active, &:focus {\n            background-color: $color-complement-1;\n        }\n    }\n}\n\n.logo {\n    max-width: 170px;\n    max-height: 200px;\n    margin-bottom: 1rem;\n}\n\n.content {\n    margin-left: 3rem;\n    width: 50vw;\n}\n\n.post__title {\n    font-size: 2rem;\n    margin-bottom: 1rem;\n    text-align: left;\n    color: $slightly-blue-black;\n}\n\n.post__description {\n    margin-bottom: 2rem;\n}\n\n.description_label {\n    font-size: 1.5rem;\n    font-weight: 500;\n}\n\n.dates {\n    p {\n        margin-bottom: 0;\n    }\n\n    margin-top: 2rem;\n    margin-left: 3rem;\n    margin-bottom: 1rem;\n}\n\n.bottom-container {\n    height: 15rem;\n    right: 0;\n    left: 50vw;\n    top: 45vh;\n    width: 40vw;\n    position: absolute;\n    text-align: center;\n}\n\n.btn-info {\n    background: $color-complement-1;\n}\n\n.link {\n    @include remove_link_styles;\n}\n\nli {\n    margin-left: 1rem;\n    color: $slightly-blue-black;\n}\n\n.is-active {\n    margin-top: 1rem;\n    margin-left: 3rem;\n    margin-bottom: 15px;\n}\n\n.bottom-container__shadow {\n    height: 6rem;\n    background: #000;\n}\n\nul {\n    margin-bottom: 0;\n    padding-left: 0;\n}\n\n.post__requirements--invite {\n    margin-bottom: 1rem;\n}\n\n.invite-finish {\n    margin-top: 1rem;\n}\n\n.card-header {\n    height: 4rem;\n    font-size: 25px;\n    letter-spacing: 0.2rem;\n}\n\n.card-body {\n    background-color: #e5e5e5;\n    padding-bottom: 0;\n}\n\n.login-prompt {\n    margin-top: 30px;\n    font-size: 15px;\n}\n\n.save-changes {\n    margin-left: 18rem;\n    margin-bottom: 2rem;\n}\n",{"version":3,"sources":["JobDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"JobDetails.vue","sourceRoot":"src/components/Job-Details-Page","sourcesContent":["<template>\n    <div class=\"job-details\" v-if=\"dataFetched\">\n        <Nav></Nav>\n        <header class=\"header\"></header>\n        <br>\n        <div class=\"post content\">\n            <h1 class=\"post__title\" @input=\"changeContentEdited(0)\" :contenteditable=\"isHrExpert()\">\n                {{jobDetails.title}}</h1>\n            <img src=\"../../assets/images/obss-logo.png\" alt=\"obss-logo\" class=\"logo\">\n            <p class=\"location\">{{ getLocationText() }}</p>\n            <div class=\"short-info\">\n                <p>Location: {{this.jobDetails.location}}</p>\n                <p>Functional Area: Engineering, R & D</p>\n                <p>Industry: Software</p>\n            </div>\n            <div class=\"description\">\n                <p class=\"description_label\">Job Description</p>\n                <p class=\"post__description\" @input=\"changeContentEdited(1)\" :contenteditable=\"isHrExpert()\">\n                    {{jobDetails.description}}</p>\n            </div>\n            <div>\n                <p class=\"invite\"><strong>If you think you satisfy these requirements:</strong></p>\n                <ul v-for=\"(requirementObject, i) in jobRequirements\" class=\"post__requirements\"\n                    @input=\"changeRequirementEdited(i)\" :contenteditable=\"isHrExpert()\"\n                    :id=\"requirementObject.id\">\n                    <li>{{requirementObject.requirement}}</li>\n                </ul>\n                <p class=\"invite-finish\"><strong>We would like to see you in our team!</strong></p>\n            </div>\n            <b-card bg-variant=\"dark\" border-variant=\"info\"\n                    header=\"Follow your dreams\" text-variant=\"white\" class=\"bottom-container\">\n                <b-card-text>\n                    <b-button type=\"button\" class=\"btn-lg btn-info apply__button\"\n                                                                        v-on:click=\"saveIfAuthenticated()\">\n                      Apply Now\n                    </b-button>\n                    <p class=\"login-prompt\"><em>*You need to log in with your LinkedIn account before applying</em></p>\n                </b-card-text>\n            </b-card>\n\n            </div>\n            <div>\n                <div class=\"dates\">\n                    <p class=\"activation_date\" @input=\"changeContentEdited(2)\" v-model=\"jobDetails.activationDate\"\n                       :contenteditable=\"isHrExpert()\">\n                        <em>Posted at: {{ getDDMMYYFormatFromYYYYMMDD(jobDetails.activationDate) }}</em>\n                    </p>\n                    <p class=\"expiration_date\" @input=\"changeContentEdited(3)\" v-model=\"jobDetails.expirationDate\"\n                       :contenteditable=\"isHrExpert()\">\n                        <em>Expires at: {{ getDDMMYYFormatFromYYYYMMDD(jobDetails.expirationDate) }}</em>\n                    </p>\n                </div>\n                <div class=\"form-check is-active\" v-if=\"isHrExpert()\">\n                    <input type=\"checkbox\" class=\"form-check-input is_active\" id=\"isActive\"\n                           :checked=\"jobDetails.isActive\" v-model=\"jobDetails.isActive\" @input=\"changeContentEdited(4)\">\n                    <label class=\"form-check-label\" for=\"isActive\">Job Post is active</label>\n                </div>\n\n                <b-button v-if=\"isHrExpert()\" type=\"button\"\n                          class=\"btn-lg btn-danger save-changes\"\n                          v-on:click=\"submitChanges()\">\n                    Save changes\n                </b-button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Nav from \"../Nav.vue\";\n    import ServicesMixin from \"../mixins/services-mixin\";\n    import CommonsMixin from \"../mixins/commons-mixin\";\n\n    export default {\n        name: \"JobApply\",\n        mixins: [ServicesMixin, CommonsMixin],\n        components: {\n            Nav: Nav\n        },\n        data() {\n            return {\n                jobDetails: {},\n                jobRequirements: [],\n                location: \"Istanbul (Teknopark)\",\n                dataFetched: false,\n                userLoggedIn: true,\n                anyContentIsEdited: false,\n                candidateBlacklisted: false,\n                linkedInLogin: \"https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=86uobfdmclzprd\" +\n                                \"&redirect_uri=http://localhost:8080\" +\n                                \"&state=ASk220aSFAxx&scope=r_liteprofile%20r_emailaddress%20w_member_social\",\n                contentEditableClasses: [\n                    { className: 'post__title', edited: false },\n                    { className: 'post__description', edited: false },\n                    { className: 'activation_date', edited: false },\n                    { className: 'expiration_date', edited: false },\n                    { className: 'is_active', edited: false}\n                ]\n            }\n        },\n        computed: {\n            userAuthenticated() {\n                return this.$store.getters.userAuthenticated;\n            },\n            hrExpertAuthenticated() {\n                return this.$store.getters.hrExpertAuthenticated;\n            }\n        },\n        methods: {\n            getJobPostId: function () {\n                const url = window.location.pathname;\n                // return the first url param\n                return url.split(\"/\")[2];\n            },\n            isHrExpertUrl: function () {\n                const url = window.location.pathname;\n                return url.split(\"/\")[3] === 'hr';\n            },\n            isHrExpert: function () {\n                return this.isHrExpertUrl() && this.$store.getters.hrExpertAuthenticated;\n            },\n            saveApplication: function () {\n                if (!this.candidateBlacklisted) {\n                    const userId = this.$store.state.userId;\n\n                    try {\n                        this.saveApplicationWithIdAndJobPost(userId, this.getJobPostId())\n                            .then((response) => {\n                                if (response.status === 200) {\n                                    // If application already exists\n                                    this.showApplicationSavedAlert();\n                                    this.redirectToJobPostsAfterWaiting();\n                                } else {\n                                    this.showApplicationAlreadyExistsAlert();\n                                }\n                            });\n                    } catch (e) {\n                        console.log(e.status);\n                        this.showCandidateBlacklistedAlert();\n                    }\n                }\n            },\n            submitChanges: function () {\n                const contentEditableClasses = this.contentEditableClasses;\n\n                if (this.anyContentIsEdited) {\n                    try {\n                        let title = document.getElementsByClassName(contentEditableClasses[0].className)[0].innerText;\n                        let description = document.getElementsByClassName(contentEditableClasses[1].className)[0].innerText;\n                        let activationDate = this.formatDateInput(document.getElementsByClassName(contentEditableClasses[2].className)[0].innerText);\n                        let expirationDate = this.formatDateInput(document.getElementsByClassName(contentEditableClasses[3].className)[0].innerText);\n\n                        let active = this.jobDetails.isActive;\n\n                        this.updateJobPostDetails(this.getJobPostId(), title, active,\n                                                  description, activationDate, expirationDate);\n                        this.updateRequirements();\n\n                        this.showSuccessAlert();\n                    } catch (e) {\n                        this.showFailureAlert();\n                    }\n                } else {\n                    this.showNoContentIsEditedAlert();\n                }\n            },\n            updateRequirements: function () {\n                this.jobRequirements.forEach(requirementObject => {\n                    if (requirementObject.edited === true) {\n                        const requirementEdited = document.getElementById(requirementObject.id).innerText;\n                        let urlifiedRequirement = requirementEdited.replace(/%20/g, \" \");\n\n                        this.updateJobRequirementWithId(requirementObject.id, urlifiedRequirement);\n                    }\n                });\n            },\n            formatDateInput: function (date) {\n                let year = date.split(\"-\")[0].split(\": \")[1];\n                let month = date.split(\"-\")[1];\n                let day = parseInt(date.split(\"-\")[2]) + 1;\n\n                if (day < 10) {\n                    day = \"0\" + day;\n                }\n\n                const dateFormatted = day + \"/\" + month + \"/\" + year;\n                return dateFormatted;\n            },\n            saveIfAuthenticated: function () {\n                if (this.userAuthenticated && !this.isHrExpert()) {\n                    this.saveApplication()\n                } else {\n                    this.showNotLoggedInAlert();\n                    setTimeout(() => {\n                        window.location.href =  this.linkedInLogin;\n                    }, 2000)\n                }\n            },\n            changeContentEdited: function (index) {\n                this.contentEditableClasses[index].edited = true;\n                this.anyContentIsEdited = true;\n            },\n            changeRequirementEdited: function(index) {\n                this.jobRequirements[index].edited = true;\n                this.anyContentIsEdited = true;\n            },\n            showSuccessAlert: function () {\n                this.$swal('Saved', 'Your changes are successfully saved', 'success');\n            },\n            showApplicationSavedAlert: function () {\n                this.$swal('Your application is taken', 'Your application is taken, good luck', 'success');\n            },\n            showApplicationAlreadyExistsAlert: function () {\n                this.$swal('Already applied', 'You have already applied for this job.', 'error');\n            },\n            showNoContentIsEditedAlert: function () {\n                this.$swal('No edit', 'Content is not edited' , 'warning');\n            },\n            showFailureAlert: function () {\n                this.$swal('Error', 'An error occurred' , 'error');\n            },\n            showCandidateBlacklistedAlert: function () {\n                this.$swal('Banned', 'You are banned from applying for jobs!', 'error');\n            },\n            showNotLoggedInAlert: function () {\n                this.$swal('You are not logged in', 'You need to log in before applying, redirecting to login');\n            },\n            redirectToJobPostsAfterWaiting: function () {\n                setTimeout(() => this.$router.push('/job-posts'), 3000);\n            },\n            fetchCandidateBlacklistStatus: function (candidateId) {\n                this.getCandidateBlacklistStatus(candidateId).then(blacklistStatus => {\n                    this.candidateBlacklisted = blacklistStatus;\n                })\n            },\n            fetchJobRequirements: function (jobId) {\n                this.getJobRequirements(jobId).then(jobRequirements => {\n                    jobRequirements.forEach(jobRequirementsDto => {\n                        this.jobRequirements.push({\n                            id: jobRequirementsDto.id,\n                            requirement: jobRequirementsDto.requirement,\n                            edited: false\n                        });\n                    })\n                });\n            },\n            fetchJobDetails: function (jobId) {\n                this.getJobDetails(jobId).then(jobDetails => {\n                    this.jobDetails = jobDetails;\n                });\n            },\n            getLocationText: function () {\n                const jobLocation = this.jobDetails.location;\n                if (jobLocation.toLowerCase() === \"istanbul\") {\n                    return \"Istanbul (Teknopark)\";\n                } else if (jobLocation.toLowerCase() === \"izmit\" || jobLocation.toLowerCase() === \"kocaeli\") {\n                    return \"Kocaeli (KOÃœ)\";\n                } else if (jobLocation.toLowerCase() === \"ankara\") {\n                    return \"Ankara (Bilkent Cyberpark)\";\n                }\n\n                return jobLocation;\n            }\n        },\n        mounted () {\n            const jobId = this.getJobPostId();\n            this.fetchJobRequirements(jobId);\n            this.fetchJobDetails(jobId);\n            this.fetchCandidateBlacklistStatus(this.$store.state.userId);\n\n            this.dataFetched = true;\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    @import '../../styles/abstracts/colors';\n    @import '../../styles/abstracts/typography';\n\n    .header {\n        background-image: url(http://getwallpapers.com/wallpaper/full/c/1/1/1237994-san-francisco-4k-wallpaper-1920x1080-pictures.jpg);\n        background-size: cover;\n        background-position: center;\n        height: 45vh;\n        width: 100vw;\n        position: relative;\n        margin-bottom: 0.75rem;\n        @include set_font_montserrat();\n        object-fit: cover;\n    }\n\n    .job-details {\n        p {\n            color: $slightly-blue-black;\n        }\n\n        .location {\n            color: gray;\n            font-size: 1.5rem;\n            letter-spacing: .001rem;\n            margin-bottom: 2rem;\n        }\n\n        .short-info {\n            p {\n                margin-bottom: 0;\n                letter-spacing: .001rem;\n                font-size: 16px;\n                font-weight: 400;\n                text-align: left;\n            }\n\n            margin-bottom: 1rem;\n        }\n\n        .apply__button {\n            margin-top: 2rem;\n            padding-right: 90px !important;\n            padding-left: 90px !important;\n\n            &:hover, &:link, &:active, &:focus {\n                background-color: $color-complement-1;\n            }\n        }\n    }\n\n    .logo {\n        max-width: 170px;\n        max-height: 200px;\n        margin-bottom: 1rem;\n    }\n\n    .content {\n        margin-left: 3rem;\n        width: 50vw;\n    }\n\n    .post__title {\n        font-size: 2rem;\n        margin-bottom: 1rem;\n        text-align: left;\n        color: $slightly-blue-black;\n    }\n\n    .post__description {\n        margin-bottom: 2rem;\n    }\n\n    .description_label {\n        font-size: 1.5rem;\n        font-weight: 500;\n    }\n\n    .dates {\n        p {\n            margin-bottom: 0;\n        }\n\n        margin-top: 2rem;\n        margin-left: 3rem;\n        margin-bottom: 1rem;\n    }\n\n    .bottom-container {\n        height: 15rem;\n        right: 0;\n        left: 50vw;\n        top: 45vh;\n        width: 40vw;\n        position: absolute;\n        text-align: center;\n    }\n\n    .btn-info {\n        background: $color-complement-1;\n    }\n\n    .link {\n        @include remove_link_styles;\n    }\n\n    li {\n        margin-left: 1rem;\n        color: $slightly-blue-black;\n    }\n\n    .is-active {\n        margin-top: 1rem;\n        margin-left: 3rem;\n        margin-bottom: 15px;\n    }\n\n    .bottom-container__shadow {\n        height: 6rem;\n        background: #000;\n    }\n\n    ul {\n        margin-bottom: 0;\n        padding-left: 0;\n    }\n\n    .post__requirements--invite {\n        margin-bottom: 1rem;\n    }\n\n    .invite-finish {\n        margin-top: 1rem;\n    }\n\n    .card-header {\n        height: 4rem;\n        font-size: 25px;\n        letter-spacing: 0.2rem;\n    }\n\n    .card-body {\n        background-color: #e5e5e5;\n        padding-bottom: 0;\n    }\n\n    .login-prompt {\n        margin-top: 30px;\n        font-size: 15px;\n    }\n\n    .save-changes {\n        margin-left: 18rem;\n        margin-bottom: 2rem;\n    }\n</style>\n"]}]}